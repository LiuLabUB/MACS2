----------------------------
Installing SNVAS

make

----------------------------
Before running SNVAS

1 SNVAS only accept base quality with Illumina 1.8+ (Phred+33) coding. For Illumina 1.3+ or 1.5+ (Phred+64) coding, the fastq file should be changed to Phred+33 type. We recommand using the tool "seqtk" to do it (https://github.com/lh3/seqtk).

2 Map fastq file to reference genome, and get the sam/bam file.

3 Remove low MAPQ, unmapped reads, secondary alignment and supplementary alignment in the bam file (both ChIP-seq and control dataset).
e.g. 
samtools view -q 30 -F 4 -F 256 -F 2048 -bS sample.sam -o sample_filter.bam

4 Sort the bam file after filtering accroding to coordinate

5 Peak calling. We recommand using the software "macs2" (https://github.com/taoliu/MACS).

6 Select peak region, and get the bam file overlapped with the peak region (both ChIP-seq and control dataset).
e.g.
samtools view -b sample_filter_sorted.bam -L sample_peaks_sorted.bed -o sample_peaks_sorted.bam

Briefly, there are 3 files which should be prepared before running SNVAS
1 peak region bed file (sorted by coordinate)
2 bam file of ChIP-seq dataset in the peak region (sorted by coordinate) 
3 bam file of control dataset in the peak region (sorted by coordinate)

----------------------------
Running SNVAS

1 To get a listing of all parameters, run SNVAS -h.

2 For paired-end data, you can run:

SNVAS -bed sample_peaks_sorted.bed -bam sample_peaks_sorted.bam -controlbam control_peaks_sorted.bam -f PE -o sample.vcf -fermi src/fermi -tmp tmp1 &

-f PE is the parameter shows the data is paired-end
-fermi src/fermi is the path of fermi executable file
-o sample.vcf is the output vcf file

3 For single-end data, you should change "-f PE" to "-f SE".

----------------------------
Release Notes

Release 0.1 (2015-08-12)
This is the first public release of SNVAS.
